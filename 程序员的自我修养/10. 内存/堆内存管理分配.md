对于程序来说，堆空间只是程序向操作系统申请划出来的一大块地址空间。而程序在通过malloc申请空间时的大小确实不一定的，从数个字节到GB都是由可能的。
于是我们必须将对空间管理起来，将它分块的按照用户需求出售给最终的程序，并且可以按照一定的方式收回内存。

所以上述问题就是：如何管理一大块连续的内存空间，能够按照需求分配，释放其中的空间，这就是堆分配算法。
## 空闲链表
空闲链表的方法就是把堆中各个空闲的块按照链表的方式连接起来，当用户请求一块空间时，遍历链表，找到合适的块，将它拆分；当用户释放时将它合并到空闲链表中。
一旦链表别破坏，记录长度为4字节被破坏，整个堆无法工作
## 位图
改进，核心思想将整个堆划分为大量的块，每个块相同，当用户请求内存时，总是分配整个个块空间给用户。
- 速度快
- 稳定性好
- 不需要额外信息，易于管理

缺点
- 容易产生碎片
- 堆很大，块很小，位图很大，catch命中率很低
## 对象池
改进：思路是每次分配的空间大小都一样，那么就可以按照这个请求分配的大小作为一个单位，把整个堆空间分为大量的小块，每次请求只需要找到一个小块就可以了。

对象池的管理方法可以采用空闲链表也可以采用位图，它们的区别仅仅在于每次请求的都是一个固定的大小
