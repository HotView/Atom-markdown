实验的工业相机：
Basler公司的acA1280-60gm GigE相机，每秒可采集60帧图像，130万像素分辨率。所用镜头为Computer公司的M0814-MP2型，镜头焦距为8mm。
## 内参标定结果对比
相邻像素点之间的距离$S_x,S_y$
相机的焦距：f
投影中心在成像平面的垂直投影误差$C_x,C_y$误差较大（相机镜头手工装配）。
内参数|f(mm)|k($m^{-2}$)|$S_x(um)$|$S_y(um)$|$C_x(pix)$|$C_y(pix)$|
--|--|--|--|--|--|--|
初始值|8|0|5.3|5.3|640|512
标定值|8.43746|-1396.06|5.30182|5.3|635.6|471.051

==相机的外参数是标定板上的世界坐标系相对于相机坐标系的位姿，因此，标定板的位姿不同，相机的外参数不同，将其中一幅图像设为参考位姿，则此时外参数的标定结果为==
内参数|$t_x$(mm)|$t_y(mm)$|$t_z(mm)$|$\alpha(°)$|$\beta(°)$|$\gamma$(°)
--|--|--|--|--|--|--|
标定值|-11.2653|10.7248|133.908|356.415|5.6615|193.675
## 激光平面标定原理
仅靠相机的内参数不能得到从像素坐标到相机坐标的转换，必须加入外参数才能得到转换关系。
过程如下：
1. 将工件放置于传感器的视野范围内，将激光传感器的激光照射到工件表面，形成三线激光条纹，我们选取中间的主条纹所在的平面为研究平面，通过阈值，等图像处理，得到一系列像素坐标值。
2. 保持传感器的位置和位姿不变，工件位置也不变，把线激光关闭，将标定板放到工件表面，调整标定板的位置，使其处于视野中央处，采集标定板图像作为参考外姿，计算出此时的==相机的外参数==。
3. 由于相机保持固定不动，因此，内参相同。由于标定板具有一定厚度，因此，不能直接用得到的外参数计算激光条纹的坐标值，本文通过坐标变换，将标定板平面转换到工件表面，然后计算激光平面的方程。
4. 标定板平面坐标系和工件测量坐标系的位置如图，其旋转矩阵为I矩阵，平移矩阵T[0 0 h],h为标定板的厚度。
5. 更改测量工件的位置和姿态，重复1,2，就可以得到多组激光条纹，从而获得空间中多点的相机坐标系的坐标值$P_i$
6. 得到多点相机坐标值之后，通过最小二乘法拟合出激光平面方程。
## 手眼标定
为了使6自由度机器人能完成焊缝的实时自动跟踪，需要将激光视觉传感器和6自由度机器人有机的结合起来，使传感器得到的数据能实时的发送给机器人，从而使机器人完成相应的运动。
要想完成传感器和机器人之间的实时有效的通讯，首先需要确定出传感器与机器人的相对位置，这就需要传感器与机器人的手眼标定来完成。
- Eye to hand
相机的位置与机器人的相对位置固定不变，即相机坐标系和机器人的基坐标系是恒定不变的。两者的齐次变换矩阵为定值，此类系统系统目标获得该齐次变换矩阵。
- Eye in hand
相机固定在机器人的末端位置，跟随机器人末端一起运动，该类系统相机坐标系与机器人基坐标系的关系是不断变化的，但与机器人的末端坐标系的变换关系是恒定的，此类系统标定的目的是获得相机坐标系$W_c$ 和法兰盘坐标系
$W_t$ 的转换关系，从而计算得到本文中的激光平面坐标系$W_l$和机器人基坐标系$W_b$的转换关系。
## 附录
华南理工大学的刘苏宜、王国荣等[65]依据机器人基坐标系与法兰盘坐标系的变换矩阵和激光视觉传感器与法兰盘坐标系的变换矩阵两者之间的关系，提出了只进行一次标定实验就能将两个变换矩阵求解出来的标定算法，通过实验分析，标定的平均误差可达0.12mm ，满足不同类型坡口焊缝的后续跟踪焊接要求。
> Written with [StackEdit](https://stackedit.io/).

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTQ4NTU3NzUyMSwtMjYwMjYwNTI1LDI0OD
QyNzE5MCwxMTk0NDk2MDg5LDMyMzA1MDk2Nyw3Nzk5Njg5OTQs
MTg2MzU0NTQ1NCwtMTA2OTY5MDE0OSw3NTk3MTY3MzBdfQ==
-->