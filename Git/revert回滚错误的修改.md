## git revert

`git revert`  命令用来撤销一个已经提交的快照。但是，它是通过搞清楚如何撤销这个提交引入的更改，然后在最后加上一个撤销了更改的  _新_  提交，而不是从项目历史中移除这个提交。这避免了Git丢失项目历史，这一点对于你的版本历史和协作的可靠性来说是很重要的。


### 用法

```
git revert <commit>

```

生成一个撤消了  `<commit>`  引入的修改的新提交，然后应用到当前分支。

## 讨论
撤销（revert）应该用在你想要在项目历史中移除一整个提交的时候。比如说，你在追踪一个 bug，然后你发现它是由一个提交造成的，这时候撤销就很有用。与其说自己去修复它，然后提交一个新的快照，不如用  `git revert`，它帮你做了所有的事情。

#### 撤销（revert）和重设（reset）对比

理解这一点很重要。`git revert`  回滚了「单独一个提交」，它没有移除后面的提交，然后回到项目之前的状态。在 Git 中，后者实际上被称为  `reset`，而不是  `revert`。

撤销和重设相比有两个重要的优点。首先，它不会改变项目历史，对那些已经发布到共享仓库的提交来说这是一个安全的操作。至于为什么改变共享的历史是危险的，请参阅  `git reset`  一节。

其次，`git revert`  可以针对历史中任何一个提交，而  `git reset`  只能从当前提交向前回溯。比如，你想用  `git reset`  重设一个旧的提交，你不得不移除那个提交后的所有提交，再移除那个提交，然后重新提交后面的所有提交。不用说，这并不是一个优雅的回滚方案。


> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTExMjAzODA0NF19
-->